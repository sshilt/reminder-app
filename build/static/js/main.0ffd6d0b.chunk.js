(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{41:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),r=n(13),d=n.n(r),s=n(14),c=n(15),m=n(17),l=n(16),o=n(3),h=n.n(o),u=n(0),j=function(e){return Object(u.jsxs)("li",{children:[new Date(e.data.timestamp).toLocaleString()," ",e.data.name," ",Object(u.jsx)("button",{onClick:e.deleteReminder(e.data.id),children:"Delete"})]})},p=function(e){return Object(u.jsx)("ul",{children:e.reminders.map((function(t){return Object(u.jsx)(j,{data:t,deleteReminder:e.deleteReminder},t.id)}))})},b=function(e){var t=e.addReminder,n=e.valueName,a=e.handleNameChange,i=e.valueTime,r=e.handleTimeChange;return Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsx)("h3",{children:"Add new reminder"}),Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:["Name:",Object(u.jsx)("input",{value:n,onChange:a})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[Object(u.jsx)("i",{children:"Use date format: yyyy-mm-ddThh:mm:00.000Z"}),Object(u.jsx)("br",{}),"Date:",Object(u.jsx)("input",{value:i,onChange:r})]})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"Add"})})]})},O=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).addReminder=function(e){e.preventDefault();var t={name:a.state.newName,timestamp:a.state.newTime};a.state.reminders.some((function(e){return e.name===t.name}))?alert("".concat(t.name," - Not added. Reminder is already on the list")):h.a.post("http://localhost:3001/api/reminders",t).then((function(e){a.setState({reminders:a.state.reminders.concat(e.data),newName:"",newTime:""})}))},a.handleNameChange=function(e){a.setState({newName:e.target.value})},a.handleTimeChange=function(e){a.setState({newTime:e.target.value})},a.deleteReminder=function(e){return function(){h.a.delete("http://localhost:3001/api/reminders/".concat(e)).then((function(t){var n=a.state.reminders.filter((function(t){return t.id!==e}));a.setState({reminders:n})})).catch((function(e){alert("Muistiinpano on jo poistettu palvelimelta")}))}},a.state={reminders:[{name:"",timestamp:"",id:""}],newName:"",newTime:""},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.a.get("http://localhost:3001/api/reminders").then((function(t){e.setState({reminders:t.data})}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Reminders App"}),Object(u.jsx)("div",{children:Object(u.jsx)(b,{addReminder:this.addReminder,valueName:this.state.newName,handleNameChange:this.handleNameChange,valueTime:this.state.newTime,handleTimeChange:this.handleTimeChange})}),Object(u.jsx)("h3",{children:"Reminders"}),Object(u.jsx)(p,{reminders:this.state.reminders,deleteReminder:this.deleteReminder})]})}}]),n}(i.a.Component),f=h.a.get("http://localhost:3001/api/reminders");console.log(f),h.a.get("http://localhost:3001/api/reminders").then((function(e){var t=e.data;console.log(t)})),h.a.get("http://localhost:3001/api/reminders").then((function(e){var t=e.data;console.log("reminders:",t),console.log("reminders[3]:",t[3]),d.a.render(Object(u.jsx)(O,{}),document.getElementById("root"))}))}},[[41,1,2]]]);
//# sourceMappingURL=main.0ffd6d0b.chunk.js.map